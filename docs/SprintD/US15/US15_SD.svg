<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="881px" preserveAspectRatio="none" style="width:1807px;height:881px;background:#FFFFFF;" version="1.1" viewBox="0 0 1807 881" width="1807px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="697.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="40.5" y="92.6094"/><rect fill="#FFFFFF" height="211.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="420.5" y="114.9609"/><rect fill="#FFFFFF" height="211.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="420.5" y="357.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="420.5" y="599.1797"/><rect fill="#FFFFFF" height="121.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="420.5" y="659.8828"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="795.5" y="145.3125"/><rect fill="#FFFFFF" height="90.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="795.5" y="236.0156"/><rect fill="#FFFFFF" height="90.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="795.5" y="387.4219"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="795.5" y="690.2344"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="981.5" y="175.6641"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1095" y="266.3672"/><rect fill="#FFFFFF" height="120.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1242" y="417.7734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1242" y="720.5859"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1522" y="508.4766"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1720" y="448.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="45" x2="45" y1="82.6094" y2="798.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="425.5" x2="425.5" y1="82.6094" y2="798.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="800.5" x2="800.5" y1="82.6094" y2="798.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="986" x2="986" y1="82.6094" y2="798.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1100" x2="1100" y1="82.6094" y2="798.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1247" x2="1247" y1="82.6094" y2="798.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1527" x2="1527" y1="82.6094" y2="798.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1725" x2="1725" y1="82.6094" y2="798.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="5" y="79.5332">Coordinator</text><ellipse cx="45.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M45.5,21.5 L45.5,48.5 M32.5,29.5 L58.5,29.5 M45.5,48.5 L32.5,63.5 M45.5,48.5 L58.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="5" y="812.4707">Coordinator</text><ellipse cx="45.5" cy="824.0469" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M45.5,832.0469 L45.5,859.0469 M32.5,840.0469 L58.5,840.0469 M45.5,859.0469 L32.5,874.0469 M45.5,859.0469 L58.5,874.0469 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="364.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="371.5" y="71.5332">ExportStatisticsUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="364.5" y="797.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="371.5" y="819.4707">ExportStatisticsUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="172" x="714.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="721.5" y="71.5332">ExportStatisticsController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="172" x="714.5" y="797.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="721.5" y="819.4707">ExportStatisticsController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43" x="965" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="972" y="71.5332">Auth</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43" x="965" y="797.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="972" y="819.4707">Auth</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="1018" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="1025" y="71.5332">VaccinationCenterStore</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="1018" y="797.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="1025" y="819.4707">VaccinationCenterStore</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="1192" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1199" y="71.5332">ExportStatistics</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="1192" y="797.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1199" y="819.4707">ExportStatistics</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="1475" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="1482" y="71.5332">AdminProcess</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="1475" y="797.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="1482" y="819.4707">AdminProcess</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="1649" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="1656" y="71.5332">AdminOfVaccineStore</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="1649" y="797.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="1656" y="819.4707">AdminOfVaccineStore</text><rect fill="#FFFFFF" height="697.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="40.5" y="92.6094"/><rect fill="#FFFFFF" height="211.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="420.5" y="114.9609"/><rect fill="#FFFFFF" height="211.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="420.5" y="357.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="420.5" y="599.1797"/><rect fill="#FFFFFF" height="121.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="420.5" y="659.8828"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="795.5" y="145.3125"/><rect fill="#FFFFFF" height="90.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="795.5" y="236.0156"/><rect fill="#FFFFFF" height="90.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="795.5" y="387.4219"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="795.5" y="690.2344"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="981.5" y="175.6641"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1095" y="266.3672"/><rect fill="#FFFFFF" height="120.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1242" y="417.7734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1242" y="720.5859"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1522" y="508.4766"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1720" y="448.125"/><polygon fill="#181818" points="408.5,110.9609,418.5,114.9609,408.5,118.9609,412.5,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="414.5" y1="114.9609" y2="114.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="57.5" y="110.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294" x="68.5" y="110.1045">asks to check and export the vaccination statistics</text><polygon fill="#181818" points="783.5,141.3125,793.5,145.3125,783.5,149.3125,787.5,145.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="430.5" x2="789.5" y1="145.3125" y2="145.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="437.5" y="140.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="448.5" y="140.4561">coordinator = getCurrentSession()</text><polygon fill="#181818" points="969.5,171.6641,979.5,175.6641,969.5,179.6641,973.5,175.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="805.5" x2="975.5" y1="175.6641" y2="175.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="812.5" y="170.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="823.5" y="170.8076">getCurrentSession(email)</text><polygon fill="#181818" points="783.5,232.0156,793.5,236.0156,783.5,240.0156,787.5,236.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="430.5" x2="789.5" y1="236.0156" y2="236.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="437.5" y="231.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335" x="448.5" y="231.1592">vaccinationCenter = getVaccinationCenterList(coordinator)</text><polygon fill="#181818" points="1083,262.3672,1093,266.3672,1083,270.3672,1087,266.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="805.5" x2="1089" y1="266.3672" y2="266.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="812.5" y="261.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="823.5" y="261.5107">getVaccinationCenterList()</text><polygon fill="#181818" points="61.5,322.7188,51.5,326.7188,61.5,330.7188,57.5,326.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="55.5" x2="424.5" y1="326.7188" y2="326.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="67.5" y="321.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="78.5" y="321.8623">asks for the initial date and the final date</text><polygon fill="#181818" points="408.5,353.0703,418.5,357.0703,408.5,361.0703,412.5,357.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="414.5" y1="357.0703" y2="357.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="57.5" y="352.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="68.5" y="352.2139">types initial date along with final date</text><polygon fill="#181818" points="783.5,383.4219,793.5,387.4219,783.5,391.4219,787.5,387.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="430.5" x2="789.5" y1="387.4219" y2="387.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="437.5" y="382.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="448.5" y="382.5654">filldates()</text><polygon fill="#181818" points="1230,413.7734,1240,417.7734,1230,421.7734,1234,417.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="805.5" x2="1236" y1="417.7734" y2="417.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="812.5" y="412.917">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="823.5" y="412.917">filldates(initialDate, finalDate)</text><polygon fill="#181818" points="1708,444.125,1718,448.125,1708,452.125,1712,448.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1252" x2="1714" y1="448.125" y2="448.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1259" y="443.2686">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="431" x="1277" y="443.2686">FullyVaccinatedUsers = getFullyVaccinatedUsers(vaccinationCenter, date)</text><polygon fill="#181818" points="1510,504.4766,1520,508.4766,1510,512.4766,1514,508.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1252" x2="1516" y1="508.4766" y2="508.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1259" y="503.6201">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="1277" y="503.6201">finalDose = getWhatDoseNumber(brand)</text><polygon fill="#181818" points="61.5,564.8281,51.5,568.8281,61.5,572.8281,57.5,568.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="55.5" x2="424.5" y1="568.8281" y2="568.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="67.5" y="563.9717">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="328" x="85.5" y="563.9717">shows the data and request if data wants to be exported.</text><polygon fill="#181818" points="408.5,595.1797,418.5,599.1797,408.5,603.1797,412.5,599.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="414.5" y1="599.1797" y2="599.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="57.5" y="594.3232">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="75.5" y="594.3232">selects the exported data</text><polygon fill="#181818" points="61.5,625.5313,51.5,629.5313,61.5,633.5313,57.5,629.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="55.5" x2="424.5" y1="629.5313" y2="629.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="67.5" y="624.6748">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="85.5" y="624.6748">asks for file name</text><polygon fill="#181818" points="408.5,655.8828,418.5,659.8828,408.5,663.8828,412.5,659.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="414.5" y1="659.8828" y2="659.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="57.5" y="655.0264">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="75.5" y="655.0264">types the file name</text><polygon fill="#181818" points="783.5,686.2344,793.5,690.2344,783.5,694.2344,787.5,690.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="430.5" x2="789.5" y1="690.2344" y2="690.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="437.5" y="685.3779">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="455.5" y="685.3779">writeToCSVFile()</text><polygon fill="#181818" points="1230,716.5859,1240,720.5859,1230,724.5859,1234,720.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="805.5" x2="1236" y1="720.5859" y2="720.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="812.5" y="715.7295">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="830.5" y="715.7295">writeToCSVFile(fileName)</text><polygon fill="#181818" points="61.5,776.9375,51.5,780.9375,61.5,784.9375,57.5,780.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="55.5" x2="424.5" y1="780.9375" y2="780.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="67.5" y="776.0811">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="85.5" y="776.0811">informs  operation sucess.</text><!--MD5=[3ec1b0ff371f9d4d4fb7509f9a6842fe]
@startuml
'https://plantuml.com/sequence-diagram

autonumber

'hide footbox
actor "Coordinator" as CC

participant "ExportStatisticsUI" as UI
participant "ExportStatisticsController" as CTRL
participant "Auth" as AUTH
participant "VaccinationCenterStore" as vcStore
participant "ExportStatistics" as EXP
participant "AdminProcess" as AP
participant "AdminOfVaccineStore" as AV

activate CC

CC -> UI : asks to check and export the vaccination statistics

activate UI

UI -> CTRL: coordinator = getCurrentSession()

activate CTRL

CTRL -> AUTH: getCurrentSession(email)

activate AUTH
deactivate AUTH
deactivate CTRL

UI ->CTRL:  vaccinationCenter = getVaccinationCenterList(coordinator)

activate CTRL

CTRL -> vcStore: getVaccinationCenterList()

activate vcStore
deactivate vcStore

UI - -> CC: asks for the initial date and the final date

deactivate UI
deactivate CTRL

CC -> UI: types initial date along with final date

activate UI

UI->CTRL: filldates()

activate CTRL

CTRL -> EXP: filldates(initialDate, finalDate)

activate EXP

EXP -> AV: FullyVaccinatedUsers = getFullyVaccinatedUsers(vaccinationCenter, date)

activate AV
deactivate AV
deactivate CTRL

EXP -> AP: finalDose = getWhatDoseNumber(brand)

activate AP
deactivate AP
deactivate EXP

UI - -> CC: shows the data and request if data wants to be exported.

deactivate UI

CC -> UI: selects the exported data

activate UI

UI - -> CC: asks for file name

deactivate UI

CC -> UI: types the file name

activate UI

UI -> CTRL: writeToCSVFile()
activate CTRL

CTRL -> EXP: writeToCSVFile(fileName)

activate EXP
deactivate EXP
deactivate CTRL

UI - -> CC: informs  operation sucess.
deactivate UI
@enduml

@startuml

autonumber

actor "Coordinator" as CC

participant "ExportStatisticsUI" as UI
participant "ExportStatisticsController" as CTRL
participant "Auth" as AUTH
participant "VaccinationCenterStore" as vcStore
participant "ExportStatistics" as EXP
participant "AdminProcess" as AP
participant "AdminOfVaccineStore" as AV

activate CC

CC -> UI : asks to check and export the vaccination statistics

activate UI

UI -> CTRL: coordinator = getCurrentSession()

activate CTRL

CTRL -> AUTH: getCurrentSession(email)

activate AUTH
deactivate AUTH
deactivate CTRL

UI ->CTRL:  vaccinationCenter = getVaccinationCenterList(coordinator)

activate CTRL

CTRL -> vcStore: getVaccinationCenterList()

activate vcStore
deactivate vcStore

UI - -> CC: asks for the initial date and the final date

deactivate UI
deactivate CTRL

CC -> UI: types initial date along with final date

activate UI

UI->CTRL: filldates()

activate CTRL

CTRL -> EXP: filldates(initialDate, finalDate)

activate EXP

EXP -> AV: FullyVaccinatedUsers = getFullyVaccinatedUsers(vaccinationCenter, date)

activate AV
deactivate AV
deactivate CTRL

EXP -> AP: finalDose = getWhatDoseNumber(brand)

activate AP
deactivate AP
deactivate EXP

UI - -> CC: shows the data and request if data wants to be exported.

deactivate UI

CC -> UI: selects the exported data

activate UI

UI - -> CC: asks for file name

deactivate UI

CC -> UI: types the file name

activate UI

UI -> CTRL: writeToCSVFile()
activate CTRL

CTRL -> EXP: writeToCSVFile(fileName)

activate EXP
deactivate EXP
deactivate CTRL

UI - -> CC: informs  operation sucess.
deactivate UI
@enduml

PlantUML version 1.2022.5(Sat Apr 30 11:55:52 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>